{% extends 'store/layouts/main.html' %}
{% load static %}

{% block content %}

<div class = "py-5">
    <div class = "container">
        <div class= "row">
            <div class="col-md-12">
                <div class= "card shadow product_data">
                    <div style="
                    margin-left: 164px;
                " class= "card-body">
                        {% if cart %}
                            {% for item in cart %}
                                <div class= "row product data">
                                    <div class = "col-md2 my-auto">      
                                       <img style="
                                       margin-left: -140px;
                                       margin-bottom: -101px;
                                   "   src= "{{ item.product.product_image.url }}" height = "70px" width = "70px" alt = "Image here">
                                    </div>

                                    <div class = "col-md-3 my-auto">
                                        <h6 style="margin-top: 15px;" >{{ item.product.name }}</h6>
                                    </div>

                                    <div class = "col-md-2 my-auto">
                                        <h6 style="
                                        margin-top: 16px;
                                        margin-right: -17px;

                                    " >Rs {{ item.product.selling_price }}</h6>
                                    </div>

                                    <div class = "col-md-2 my-auto">
                                        <input type= "hidden" class = "prod_id" value="{{ item.product_id }}">
                                        {% csrf_token %}
                                        {% if item.product.quantity >= item.product_qty %}
                                            <label style= "margin-left: 54px;"  for = "Quantity">Quantity</label>
                                            <div class = "input-group text-center mb-3" style = "width:130px;margin-left: 54px;">
                                                <button class = "input-group-text changeQuantity decrement-btn">-</button>
                                                <input type = "text" name = "quantity" class ="form-control qty-input text-center" value = '1'>
                                                <button class = "input-group-text changeQuantity increment-btn">+</button>
                                                </div>
                                        {% else %}
                                            <h6>Out of stock<h6>
                                        {% endif %}
                                    </div>

                                    <div class = "col-md-2 my-auto">
                                        <button  style= "margin-left: 189px;"  class = "btn btn-danger delete-cart-item"><i class = "fa fa-trash"></i> Remove </button>
                                    </div>
                                </div>
                            {% endfor %}
                        {% else %}
                            <h4>Your cart is empty</h4>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>    
    


{% endblock content %}

